<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Dashboard</title>
    <!-- Include Tailwind CSS -->
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
    rel="stylesheet"
/>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        /* Custom Styles */
        /* Gradient Background */
        body {
            background: linear-gradient(to right, #102c57, #102c57, #102c57);
        color: #fefaf6;
      }
      /* Glass morphism effect */
      .glass {
        background: rgba(254, 250, 246, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(234, 219, 200, 0.3);
        box-shadow: 0 8px 32px 0 rgba(16, 44, 87, 0.37);
      }
      /* Sidebar */
      #sidebar {
        background: linear-gradient(to bottom, #102c57, #102c57);
      }
      /* Sidebar Menu Link */
      #sidebar a {
        color: #fefaf6;
      }
      /* Employee Card Background */
      .employee-card {
        background-color: rgb(16 44 87);
      }
      /* Table Header */
      .table-header {
        background-color: #102c57;
        color: #fefaf6;
      }
      /* Table Row Background */
      .table-row {
        background-color: rgba(254, 250, 246, 0.1);
      }
      /* Fullscreen button */
      #fullscreenBtn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 9999;
        background-color: #102c57;
        color: #fefaf6;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 18px;
        cursor: pointer;
      }

        .card {
            background-color: transparent;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            transition: all 0.3s ease;
            position: relative; /* Add position relative */
        }

        .card:before {
            content: "";
            background-image: url('{{ employee.picture.url }}'); /* Set the image URL */
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            filter: blur(10px); /* Add blur effect */
            z-index: -1;
        }

        .card:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            background-color: rgb(16 44 87 / 31%);

            color: #fff;
            padding: 30px;
            text-align: center;
            position: relative; /* Add position relative */
            z-index: 1; /* Ensure header is above the blurred image */
        }

        .profile-pic {
            border-radius:20px;
            width: 200px;
            height: 200px; /* Adjust height for rectangular image */
            object-fit: cover;
            filter: brightness(0.9) contrast(1.2); /* Add blackish effect */
        }

        .card-body {
            padding: 20px;
            position: relative; /* Add position relative */
            z-index: 1;
            background-color:rgb(16 44 87); /* Ensure body is above the blurred image */
        }

        .details {
            border-top: 1px solid #ccc;
            margin-top: 20px;
            padding-top: 20px;
        }
        .details h3 {
            margin-top: 0;
            font-size: 16px;
            color: #fff;
        }
        .details p {
            margin: 10px 0;
        }

        .ellipse-1,
        .ellipse-1 * {
          box-sizing: border-box;
        }
        .ellipse-1 {
          background: radial-gradient(
            closest-side,
            rgba(119, 23, 179, 1) 0%,
            rgba(223, 9, 202, 1) 100%
          );
          border-radius: 50%;
          width: 280px;
          height: 280px;
          position: absolute;
          z-index: -1;
          top: 1px;
          right: 1px;
        }
        .ellipse-2,
        .ellipse-2 * {
          box-sizing: border-box;
        }
        .ellipse-2 {
          background: radial-gradient(
            closest-side,
            rgba(119, 23, 179, 1) 0%,
            rgba(223, 9, 202, 1) 100%
          );
          border-radius: 50%;
          width: 200px;
          height: 200px;
          position: absolute;
          z-index: -1;
          bottom: 1px;
          left: 200px;
        }
        .ellipse-5,
        .ellipse-5 * {
          box-sizing: border-box;
        }
        .ellipse-5 {
          background: radial-gradient(
            closest-side,
            rgba(114, 4, 123, 1) 0%,
            rgba(103, 9, 223, 1) 100%
          );
          border-radius: 50%;
          width:100px;
          height: 100px;
          position: absolute;
          z-index: -1;
          bottom: 1px;
          right: 1px;
        }
    </style>
</head>
<body class="bg-gray-100">
<!-- Company Dashboard -->
<div class="flex flex-col md:flex-row h-screen">
    <!-- Sidebar -->
    <div
        id="sidebar"
        class="fixed top-0 bottom-0 left-0 w-72 overflow-y-auto z-10 px-8 py-4 text-white"
    >
        <button
            id="closeSidebarBtn"
            class="absolute top-2 right-2 text-white focus:outline-none md:hidden"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
                class="w-10 h-10"
            >
                <path
                    fill-rule="evenodd"
                    d="M6.293 6.293a1 1 0 011.414 0L10 8.586l2.293-2.293a1 1 0 111.414 1.414L11.414 10l2.293 2.293a1 1 0 01-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 01-1.414-1.414L8.586 10 6.293 7.707a1 1 0 010-1.414z"
                    clip-rule="evenodd"
                />
            </svg>
        </button>
        <div class="flex items-center mb-4">
            <img src="{{ company_name.logo.url }}" alt="Company Logo" class="w-10 h-10 mr-2">
            <h1 class="text-2xl font-semibold">{{ company_name }}</h1>
          </div>
          <ul>
            <li class="mb-4 menu-item p-3 rounded-lg hover:bg-gray-800">
              <a href="{% url 'Company_view' %}" class="block flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 18v-6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v6l-9 5-9-5zm2-6V6h14v6"/>
                </svg>
                
                Home
              </a>
            </li>
            <li class="mb-4 menu-item p-3 rounded-lg hover:bg-gray-800 bg-gray-800 active">
              <a href="{% url 'manage_employee' %}" class="block flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5v14"/>
                </svg>
                Manage Employee
              </a>
            </li>
            <li class="mb-4 menu-item p-3 rounded-lg hover:bg-gray-800">
              <a href="{% url 'set_geofencing' %}" class="block flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9h10M7 15h10M12 3v3M12 18v-3"/>
                </svg>
                Set Geofencing
              </a>
            </li>
            <li class="mb-4 menu-item p-3 rounded-lg hover:bg-gray-800">
              <a href="{% url 'manage_employee_leave' %}" class="block flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm4 0a7 7 0 1 1-14 0 7 7 0 0 1 14 0zm-7 7a4 4 0 0 1-4-4"/>
                </svg>
               Manage Leaves
              </a>
            </li>
            <li class="mb-4 menu-item p-3 rounded-lg hover:bg-gray-800">
              <a href="{% url 'employee_report' %}" class="block flex items-center">
                <i class="ri-git-repository-line ri-lg mr-2"></i>
               Employee Report
              </a>
            </li>
            <li class="mb-4 menu-item p-3 rounded-lg hover:bg-gray-800 ">
              <a href="{% url 'salary_management' %}" class="block flex items-center">
                <i class="ri-money-rupee-circle-line ri-lg mr-2"></i>
               Salary Management
              </a>
            </li>
            
            
            
          </ul>
          <div class="absolute bottom-8 left-8">
            <a href="{% url 'user_logout' %}" class="flex items-center mb-4 menu-item p-3 px-12 rounded-lg hover:bg-gray-800 table-header text-white">
              <i class="ri-expand-left-line ri-xl mr-2"></i>
              Logout
            </a>
          </div>
    </div>
    <!-- Main Content -->
    <div class="ellipse-1"></div>
    <div class="ellipse-2"></div>
    <div class="ellipse-5"></div>
    <div class="md:ml-72 overflow-y-auto flex-1 p-8 lg:p-20 glass">
      {% if messages %}
      <div class="mb-4">
          {% for message in messages %}
          <p class="{% if message.tags == 'success' %}text-green-500{% elif message.tags == 'error' %}text-red-500{% elif message.tags == 'warning' %}text-yellow-500{% elif message.tags == 'info' %}text-blue-500{% endif %} text-center fade-away">{{ message }}</p>
          {% endfor %}
      </div>
      {% endif %}
        <!-- Employee Details -->
        <div class="card flex-row bg-black text-white">
            <div class="card-header gap-20 bg-gray-800 p-4 flex items-center">
                <img class="profile-pic mr-4" src="{{ employee.picture.url }}" alt="Profile Picture">
                <div class="gap-50 flex-col items-center">
                    <h2 class="text-4xl font-semibold font-black text-center py-4 bg-gradient-to-r from-black to-blue-500 text-transparent bg-clip-text">
                        {{ employee.user.first_name }} {{ employee.user.last_name }}
                      </h2>
                      <p class="text-xl font-semibold font-black text-center py-2 bg-gradient-to-r from-blue-500 to-black text-transparent bg-clip-text">
                        {{ employee.position }}
                      </p>
                      

                    
                </div>
            </div>
            <div class="card-body flex flex-wrap gap-10 bg-gray-900 p-4">
                <div class="details flex-grow">
                    <h3 class="mt-0 text-3xl text-white font-extrabold ">📲Contact Details</h3>
                    <p><strong>Email:</strong> {{ employee.user.email }}</p>
                    <p><strong>Phone:</strong> {{ employee.contact_number }}</p>
                    <p><strong>Address:</strong> {{ employee.address }}</p>
                </div>
                <div class="details flex-grow">
                    <h3 class="mt-0 text-3xl text-white font-extrabold">📑Other Details</h3>
                    <p><strong>DOB:</strong> {{ employee.date_of_birth }}</p>
                    <p><strong>Gender:</strong> {{ employee.gender }}</p>
                    <p><strong>Salary:</strong> {{ employee.salary }}</p>
                </div>
            </div>
        </div>

        <!-- Fullscreen Button -->
        <button id="fullscreenBtn" onclick="toggleFullScreen()">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-maximize"
            >
                <path d="M3 3h18v18H3V3z" />
            </svg>
        </button>
    </div>
</div>
<script>
    // JavaScript to handle sidebar toggle
    const menuBtn = document.getElementById("menuBtn");
    const sidebar = document.getElementById("sidebar");
    const closeSidebarBtn = document.getElementById("closeSidebarBtn");

    menuBtn.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
    });

    closeSidebarBtn.addEventListener("click", () => {
        sidebar.classList.add("-translate-x-full");
    });

    // JavaScript to handle fullscreen toggle
    function toggleFullScreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().then(() => {
                sidebar.classList.add("-translate-x-full");
            });
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen().then(() => {
                    sidebar.classList.remove("-translate-x-full");
                });
            }
        }
    }
</script>
</body>
</html>
